# 函数 —— C++ 的编程模块

## 两类函数

无返回值：

```cpp
void functionName(parameterList) {
  statement(s);
  return; // optional
}
```

有返回值：

```cpp
typeName functionName(parameterList) {
  statements;
  return value; // value is type cast to type typeName
}
```

## 函数参数和按值传递

用于接收传递值的变量被称为形参，传递给函数的值被称为实参。

在函数中声明的变量（包括参数）是该函数私有的。在函数被调用时，计算机将为这些变量分配内存；在函数结束时，计算机将释放这些变量使用的内存。这样的变量被称为局部变量，因为它们被限制在函数中。

如果条件允许的话，则应将指针形参声明为指向 const 的指针：

- 这样可以避免由于无意间修改数据而导致的编程错误；
- 使用 `const` 使得函数能够处理 `const` 和非 `const` 实参，否则将只能接受非 `const` 数据。

## 函数指针

与数据项相似，函数也有地址。函数的地址是存储其机器语言代码的内存的开始地址。

## 总结

函数是 C++ 的编程模块。要使用函数，必须提供定义和原型，并调用该函数。函数定义是实现函数功能的代码；函数原型描述了函数的接口：传递给函数的值的数目和种类以及函数的返回类型。函数调用使得程序将参数传递给函数，并执行函数的代码。

在默认情况下，C++ 函数按值传递参数。这意味着函数定义中的形参是新的变量，它们被初始化为函数调用所提供的值。因此，C++ 函数通过使用拷贝，保护了原始数据的完整性。

C++ 将数组名参数视为数组第一个元素的地址。从技术上讲，这仍然是按值传递的，因为指针是原始地址上的拷贝，但函数将使用指针来访问原始数组的内容。而且仅当声明函数的形参时，下面两个声明才是等价的：

